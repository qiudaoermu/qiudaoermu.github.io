---
  layout: post
  tilte: "2022-03-11-ğŸ¥½ğŸ¥½-for-å¾ªç¯å¼‚æ­¥æ‰§è¡Œ-å¼‚å¸¸å¤„ç†.md"
  date: 2022-03-11-
  tags: 
    - å¼€å‘æ—¥å¸¸

---


* content
{:toc}


![](https://upload-images.jianshu.io/upload_images/15312191-a67f2b1a469d40b1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

æœ‰ä¸ªéœ€æ±‚æ˜¯å¾ªç¯è¯·æ±‚ä¸€ä¸ªæ¥å£è·å¾—æ•°æ®ï¼Œ
é—®é¢˜æ˜¯å¾ªç¯è¯·æ±‚äº†ä½†æ˜¯æ¥å£æ˜¯å¼‚æ­¥çš„ï¼ŒæŒ‰é¡ºåºä¼ è¿‡å»çš„è¿”å›æ¥çš„å¹¶`ä¸ä¸€å®š`æŒ‰é¡ºåºè¿”å›æ¥ã€‚
##### è§£æ³•ä¸€ï¼š`async await`
```
mounted() {
    this.queryNewFund();
  },
  methods: {
    async queryNewFund() {
      let that = this;
      let codeList = ["1", "2", "3"];
      for (let i = 0; i < codeList.length; i++) {
        let obj = await that.getData(codeList[i]);
        console.log(obj);
      }
    },
    getData(id) {
      return new Promise(resolve => {
        axios.get(id).then(result => {
          resolve(result);
        });
      });
    }
  },
```
##### è§£æ³•äºŒï¼š`Promise.all` 
åˆ©ç”¨Promise.all é¡ºåºè¿”å›çš„ç‰¹æ€§
```
mounted() {
    this.queryNewFund();
  },
  methods: {
    async queryNewFund() {
      let that = this;
      let codeList = ["1", "2", "3"];
      for (let i = 0; i < codeList.length; i++) {
        this.asyncLists.push(this.getData(codeList[i]))
      }
      Promise.all(this.asyncLists).then((res) => {
        // å››ä¸ªresult ç»“æœ é¡ºåºè¿”å›
      })
    },
    getData(id) {
      return new Promise(resolve => {
        axios.get(id).then(result => {
          resolve(result);
        });
      });
    }
  },
```
##### è§£æ³•ä¸‰ :`promise é€’å½’`
```
 mounted() {
    this.queryNewFund();
  },
  methods: {
    queryNewFund() {
      let that = this;
      let codeList = ["1", "2", "3"];
      this.getData(codeList, 0);
    },
    getData(codeList,index) {
      if (i === codeList.length) {
        return;
      }
      new Promise(resolve => {
        axios.get(codeList[index]).then(result => {
          resolve(result);
        });
      }).then(res => {
        this.getData(codeList,index + 1);
      });
    }
  }
```
